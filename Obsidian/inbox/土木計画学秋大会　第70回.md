# 発表の方針
## 強調したい点
### 新規性
- 非線形をright-angleによって線形に(ここまでは既往研究)，パスベースをリンクベースにした点(ここが新規性)
	- パスベースの場合，変数量がリンクベースに比べ膨大で列生成的に解くことになる(シンプレックスを繰り返し解くことになる)
	- 各ノードごとにノードポテンシャルが一意に定まるので，各ノードでの均衡が成立する．すなわち，リンクベースでの均衡が成立する
		- ノードポテンシャルもシャドウコスト的にその定義を解釈できる．資料作っておく．
### 証明
- 補題1は渋滞発生時のみ正の数として存在するので遅れ時間
	- 容量制約が緩和されたときの目的関数値のシャドウコストになってる
- 補題2はUEの定義にのっとって説明する
	- ゼロフローのときは起点ノードまでのコストにリンクコスト加えると終点ノードまでのコストより大きくなってる
	- フローがあるときはそれが一致している
	- 容量に達したときはそこに遅れ時間を加えることで等式が成立
	- 下の具体例でも説明(ノードポテンシャルありバージョンの資料作ったほうが良い)
### 計算結果
- きちんと均衡していることを説明したい(スーフォールズの解析をしておく，もともとのリンクコストのやつも持っておく)
- 計算時間は0.02sだった．(Frank-Wolfeだと1分←出どころを確認)
### MMCFで書けることのうまみ
- 線形計画の分解定理が使える
- min-cost flowのアルゴリズムは多数開発されている
- モデルが簡便なので扱いやすい←???????
### 議論したい
静的であるため現実世界での解釈に限界がある

## 1分発表
- タイトル，名前
- 本研究は非線形最適化問題である利用者均衡配分の効率解法についての研究です．
- Bell and Iida(1997)では，リンクコスト関数として，こちらのようなright angle cost functionsを導入し，UEをパスベースの線形計画問題として定式化
- そして本研究では，大規模ネットワークでの分析を実現するために，以下のような多品種最小費用流問題として経路列挙の必要のないリンクベースでの定式化を提案し，UEになることをこのように証明しました
- 例えばこのようなネットワークのとき，容量に達したこちらのリンクで遅れ時間3が発生しノードjでの均衡が成立しています．
- 実際に計算時間0.02sで均衡解が求まりました．
- 今後の課題として，さらなるアルゴリズムの導入や上位問題の設定などが考えられます．

## 3分発表
- タイトル，名前
- 本研究は非線形最適化問題である利用者均衡配分の効率解法についての研究です．
- Bell and Iida(1997)では，リンクコスト関数として，リンク交通量が容量に達するまでは一定で，容量に達すると直角に跳ね上がるright angle cost functionsを導入し，UEを線形計画問題として定式化しました．
- しかしこの解法は，経路を列生成的に列挙しながら最適解を見つけるという繰り返しを伴うものであるため，経路数が膨大である大規模ネットワークでは計算コストも膨大となってしまいます．
- そして本研究では，大規模ネットワークでの分析を実現するために，以下のような多品種最小費用流問題として経路列挙の必要のないリンクベースでの定式化，すなわち各ノードでの均衡が成立しているとした定式化を提案し，それがUEになることを証明します．
- 定式化はこちらのように，各起点ノードごとに異なる品種の交通量が存在する，という多品種最小費用流問題(MMCF)となっています．
- また双対問題は以下のようになっていて$\theta$がフロー保存制約の双対変数，$\lambda$が容量制約の双対変数となっています．
- これらが最適解となるとき，こちらの2つの相補性条件が成り立ちます．これを相補性定理といい，これを使ってMMCFがUEになることを証明します．
- まず，補題1「~」ですが，これは双対相補性条件より証明することができて，$\lambda$は容量に達した時のみ正の数として存在することがわかります．
- 続いて補題2「~」ですが，これは主相補性条件より証明することができて，これらはまさにUEの定義式の形になっています．
以上から，定理「~」が成立し，UEであることがわかりました．
- 具体的には，例えばこのようなネットワークのとき，容量に達したこちらのリンクで遅れ時間3が発生しノードjでの均衡が成立しています．
- 実際にこちらのネットワークでの計算を行った結果，計算時間0.02sで均衡解が求まりました．
- 今後の展望として，さらなるアルゴリズムの導入や上位問題の設定などが考えられます．
	- 特に，LPで書けることによってDantzig-Wolfe分解などの分解定理を使うことができて，MMCFで書くことで，すでに多数開発されているmin-cost flowのアルゴリズムを使うことができます．
- また，静的なモデルであるため，待ち行列を現実世界でどのように解釈するか，というところには現状限界があります．

## 質問対策
- これまでのUEの解法とどう違うか
	-  これまではリンクコストは非線形のままでアルゴリズムによって近似解を効率的に求める方法が開発されてきた
	-  本研究はリンクコストを線形にして厳密解を求めている
	-  そもそもの構造が全然違うのでその速度，精度はネットワークによってもまちまちで比較は難しい
	- これまでのアプローチとどちらが優れているかという話ではなく，早く解ける手段が複数あったほうがいいよねという立ち位置．例えば非線形アルゴリズムで解が収束しない，というときにこちらの解のほうが精度よく求まることがあるかもしれない
	- ただ，どれくらい均衡解に差異がでるかは検証しないといけない
- 他に強みはあるか
	- モデルが簡便であることでデザイン問題などに活用しやすく，解も安定しやすいのではと考えられる
	- ピグー税の解釈をしないでUEとSOが一致しているのは問題設定がしやすい
- 計算コストが小さいといえるのか．どの程度計算コストは異なるのか
	- 現状，直接両者を実装した比較はできていない
	- しかし，Frank-Wolfeや列生成では繰り返しの各段階でシンプレックスを解いている点で，計算コストがこちらのほうが小さくなるのは明らか
- $\lambda$と$\theta$の解釈についてもう少し説明してほしい．なぜそうなるのか
	- シャドウコスト的に考えればそうなる．(図も入れて説明)
	- $\lambda$は「あともう1単位そのリンクに交通量を流せたら，目的関数値がどれだけ改善されるか」を表す．これは，経路コスト(リンクコスト)の差分に一致
	- $\theta$はそのノードの持つポテンシャルを表す．
	- あるノード$s$からノード$d$へのフローが1単位減少したとき，双対問題(最大化問題)の目的関数値は$\theta_d-\theta_s$だけ悪化する．すなわち主問題の目的関数値は$\theta_d-\theta_s$改善される．すなわち，$\theta_d-\theta_s$はノード$s$からノード$d$への(容量制約を満たしたうえでの)最短経路コストに一致する．
- どのように均衡しているのか詳しく教えてほしい
	- Sioux-fallsの結果を使って説明
	- ノードポテンシャルありver.の具体例で説明